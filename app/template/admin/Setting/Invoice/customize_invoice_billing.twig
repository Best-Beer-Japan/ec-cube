{#
This file is part of EC-CUBE

Copyright(c) EC-CUBE CO.,LTD. All Rights Reserved.

http://www.ec-cube.co.jp/

For the full copyright and license information, please view the LICENSE
file that was distributed with this source code.
#}
{% extends '@admin/default_frame.twig' %}

{% set menus = ['order', 'customize_invoice_billing'] %}

{% block title %}{{ 'customize.admin.setting.invice.invoice_billing'|trans }}{% endblock %}
{% block sub_title %}{{ 'admin.order.order_management'|trans }}{% endblock %}

{% form_theme form '@admin/Form/bootstrap_4_horizontal_layout.html.twig' %}

{% block main %}
    <div class="c-contentsArea__cols">
        <div class="c-contentsArea__primaryCol">
            <div class="c-primaryCol">

                <div class="row justify-content-start">
                    <div>
                        <form id='form1' method="post" action="{{ url('customize_admin_setting_invoice_billing') }}">
                            {{ form_widget(form._token) }}
                            <div class="c-outsideBlock__contents">
                                <div class="row justify-content-start">
                                    <div class="col">
                                        <div class="mb-2">
                                            <label class="col-form-label" data-tooltip="true" data-placement="top" title="{{ 'customize.tooltip.setting.invice.billing.multi_search_label'|trans }}">{{ 'customize.admin.setting.invice.billing.multi_search_label'|trans }}<i class="fa fa-question-circle fa-lg ml-1"></i></label>
                                            <div class="form-inline">
                                                {{ form_widget(form.multi, {'attr': {'style': 'margin-right:5px'}}) }}
                                                {{ form_errors(form.multi) }}
                                                {{ form_widget(form.year) }} 年
                                                {{ form_widget(form.month) }} 月
                                                <button class="btn btn-ec-conversion px-5" type="submit">{{ 'admin.common.search'|trans }}</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="row justify-content-between mb-2">
                    <div class="col-8"></div>
                    <div class="col-4 text-right">
                        <ul id="download-info" class="list-inline">
                        </ul>
                        <p class="badge bg-danger text-white mb-2">チェックボックスに関わらず一覧すべての請求書をダウンロードします</p>
                        <div class="d-inline-block">
                            <div class="btn-group" role="group">
                                <div class="btn-group" role="group">
                                    <button type="button" class="btn btn-ec-regular dropdown-toggle" data-toggle="dropdown" id="invoiceDownloadDropDown">
                                        <i class="fa fa-cloud-download mr-1 text-secondary"></i>
                                        <span>{{ 'admin.common.invoice_download'|trans }}</span>
                                    </button>
                                    <div class="dropdown-menu">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card rounded border-0 mb-4 d-block">
                    <div class="card-body p-0">
                        <table class="table table-sm">
                            <thead>
                            <tr>
                                <th class="border-top-0 pt-2 pb-2 text-center">{{ 'admin.customer.customer_id'|trans }}</th>
                                <th class="border-top-0 pt-2 pb-2 text-center">{{ 'common.company_name'|trans }} / {{ 'common.customize_store_name'|trans }}</th>
                                <th class="border-top-0 pt-2 pb-2 text-center">{{ 'admin.common.name'|trans }}</th>
                                <th class="border-top-0 pt-2 pb-2 text-center">{{ 'admin.order.order_status'|trans }}</th>
                                <th class="border-top-0 pt-2 pb-2 text-center">{{ 'admin.order.purchase_price'|trans }}</th>
                                <th class="border-top-0 pt-2 pb-2 text-center">{{ 'admin.order.buy_date'|trans }}</th>
                                <th class="border-top-0 pt-2 pb-2 text-center"></th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for Order in Orders %}
                                <tr id="ex-">
                                    <td class="align-middle text-center pl-3 pr-3 pt-3 pb-3">
                                        {% if Order.Customer %}{{ Order.Customer.id }}{% else %}非会員{% endif %}
                                    </td>
                                    <td class="align-middle text-center">
                                        {% if Order.Customer %}{{ Order.Customer.company_name }}{% if Order.Customer.company_name %}<br>{% endif %}{{ Order.Customer.customize_store_name }}{% else %}{{ Order.company_name }}{% if Order.company_name %}<br>{% endif %}{{ Order.customize_store_name }}{% endif %}
                                    </td>
                                    <td class="align-middle text-center">
                                        {% if Order.Customer %}{{ Order.Customer.name01 }}{{ Order.Customer.name02 }}{% else %}{{ Order.name01 }}{{ Order.name02 }}{% endif %}
                                    </td>
                                    <td class="align-middle text-center">
                                        <span class="badge badge-ec-blue" style="background-color: #fff; color: {{ Order.OrderStatusColor }}; border-color: {{ Order.OrderStatusColor }}">{{ Order.OrderStatus }}</span>
                                    </td>
                                    <td class="align-middle text-center">
                                        {{ Order.payment_total|price }}({{ 'common.tax_include'|trans }})
                                    </td>
                                    <td class="align-middle text-center">
                                        {{ Order.order_date|date_min }}
                                    </td>
                                    <td class="align-middle pr-3" colspan="3">

                                    </td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
